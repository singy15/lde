<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/public/css/style.css">
    <style>
      html,body {
        width:100%;
        height:100%;
      }

      .editor-container {
        width:100%;
        height:100%;
      }

      .header {
        position:absolute;
        top:0px;
        height:30px;
        left:0px;
        right:0px;
        padding:5px;
      }

      .content {
        position:absolute;
        top:30px;
        bottom:10px;
        left:0px;
        right:0px;
        padding:5px
      }

      .blocker {
        position:fixed;
        left:0px;
        right:0px;
        top:0px;
        bottom:0px;
        background-color:#000;
        opacity:0.5;
        z-index:9999;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <title>xra[[ (filepath !== "")? " - " + filepath : "" ]]</title>

      <div class="blocker" v-show="blocked"></div>

      <layout
        border-width="4"
        layout-id="layout"
        disable-east="true"
        disable-west="true"
        size-north="24"
        disable-south="true"
        class-north="bg-dark text-light"
        class-south="bg-dark text-light"
        class-west="bg-dark text-light"
        class-east="bg-dark text-light"
        class-center="bg-dark text-light"
        resizable-north="false"
        resizable-south="false"
        resizable-east="false"
        resizable-west="false"
      >
        <template v-slot:north>
          <div class="text-light" style="padding:2px;">
            <span class="span-button" @click="postFile">Save</span>
            <span class="span-button">Refresh</span>
            <span class="span-button" @click="evaluate">Evaluate</span>
            <label class="span-button" v-if="language === 'lisp'"><input type="checkbox" v-model="evalOnSave"/>EvalOnSave</label>
          </div>
        </template>

        <template v-slot:center>
          <editor
            editor-id="editor-html"
            :content="src"
            v-on:change-content="changeContentSrc"
            v-on:on-mounted="onMountedSrcEditor"
            :lang="language"
            theme="monokai"
          ></editor>
        </template>
      </layout>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/underscore@1.12.0/underscore-min.js"></script>
    <script src="/public/lib/shortcut.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-monokai.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ext-language_tools.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ext-searchbox.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-html.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-lisp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-javascript.min.js"></script>

    <script>
      var featureId = "{{ feature-id }}";
      var target = "{{ target }}";
    </script>

    <%= htmlWebpackPlugin.tags.bodyTags %>
  </body>
</html>